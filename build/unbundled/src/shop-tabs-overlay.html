<html><head><link rel="import" href="../bower_components/polymer/polymer.html"></head><body><dom-module id="shop-tabs-overlay"><template strip-whitespace=""><style>:host{position:absolute;display:none;pointer-events:none;opacity:0;top:0;right:0;bottom:0;left:0;transition-property:top, right, bottom, left, opacity;}</style></template><script>Polymer({is:"shop-tabs-overlay",properties:{/**
         * The element the overlay should cover.
         */target:{type:Object,observer:"_targetChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this._lastTarget=void 0;this._transitionsInFlight=[]},_targetChanged:function(newTarget,oldTarget){if(!this._transitionsInFlight.length){if(this._lastTarget){this._lastTarget.classList.remove("shop-tabs-overlay-static-above")}this.style.display="block";this._move(oldTarget,newTarget);this._lastTarget=this.target}},_onTransitionend:function(event){var index=this._transitionsInFlight.indexOf(event.propertyName);if(0<=index){this._transitionsInFlight.splice(index,1)}if(!this._transitionsInFlight.length){this._moveComplete()}},_moveComplete:function(){if(this._lastTarget!==this.target){this._move(this._lastTarget,this.target);this._lastTarget=this.target}else{if(this._lastTarget){this._lastTarget.classList.add("shop-tabs-overlay-static-above")}this.style.display="none"}},_move:function(oldTarget,newTarget){var from=oldTarget||newTarget,to=newTarget||oldTarget;if(!from&&!to)return;var fromOpacity=oldTarget?1:0,toOpacity=newTarget?1:0;Polymer.dom.flush();var thisRect=this.getBoundingClientRect(),thisStyle=window.getComputedStyle(this),fromRect=from.getBoundingClientRect(),toRect=to.getBoundingClientRect();if(0===toRect.top&&0===toRect.right&&0===toRect.bottom&&0===toRect.left&&0===toRect.width&&0===toRect.height){this.style.transitionProperty="none";this.style.opacity=toOpacity;this._transitionsInFlight=[];this.async(this._moveComplete);return}else{this.style.transitionProperty=""}var top=parseFloat(thisStyle.top||"0")+(fromRect.top-thisRect.top),right=parseFloat(thisStyle.right||"0")-(fromRect.right-thisRect.right),bottom=parseFloat(thisStyle.bottom||"0")-(fromRect.bottom-thisRect.bottom),left=parseFloat(thisStyle.left||"0")+(fromRect.left-thisRect.left);this.style.transitionDuration="0s";this.style.transitionDelay="0s";var startValues=[this.style.top=top+"px",this.style.right=right+"px",this.style.bottom=bottom+"px",this.style.left=left+"px",this.style.opacity=fromOpacity+""];top+=toRect.top-fromRect.top;right-=toRect.right-fromRect.right;bottom-=toRect.bottom-fromRect.bottom;left+=toRect.left-fromRect.left;var durations=[.2,.2,.2,.2,.2],delays=[0,0,0,0,0];// Delay left / right transitions if element is left / right of the target.
if(fromRect.left<toRect.left&&fromRect.right<toRect.right){delays[3]=.1}else if(fromRect.left>toRect.left&&fromRect.right>toRect.right){delays[1]=.1}// Delay top / bottom transitions if element is above / below the target.
if(fromRect.top<toRect.top&&fromRect.bottom<toRect.bottom){delays[0]=.1}else if(fromRect.top>toRect.top&&fromRect.bottom>toRect.bottom){delays[2]=.1}for(var endValues=[top+"px",right+"px",bottom+"px",left+"px",toOpacity+""],names=["top","right","bottom","left","opacity"],i=0;i<startValues.length;i++){if(startValues[i]===endValues[i])continue;if(0===durations[i]&&0===delays[i])continue;this._transitionsInFlight.push(names[i])}this.async(function(){this.style.transitionDuration=durations.map(function(x){return x+"s"}).join(", ");this.style.transitionDelay=delays.map(function(x){return x+"s"}).join(", ");this.style.top=top+"px";this.style.right=right+"px";this.style.bottom=bottom+"px";this.style.left=left+"px";this.style.opacity=toOpacity+""},1)}});</script></dom-module></body></html>